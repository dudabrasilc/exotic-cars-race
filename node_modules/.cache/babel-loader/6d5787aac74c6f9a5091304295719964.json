{"ast":null,"code":"var _jsxFileName = \"/Users/dudabrasilc/Development/code/phase-5/pre-project/client/src/components/CarRaceImage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction CarRaceImage(_ref) {\n  _s();\n\n  let {\n    race,\n    setRace,\n    handleDeleteCar,\n    show\n  } = _ref;\n  const [racesCars, setRacesCars] = useState([]);\n  useEffect(() => {\n    fetch(`/race/${race.id}`).then(resp => resp.json()).then(data => {\n      setRace(data);\n    });\n  }, []);\n  useEffect(() => {\n    fetch(`/races_cars`).then(resp => resp.json()).then(data => {\n      setRacesCars(data);\n    });\n  }, [handleDeleteCar]);\n  const carImages = race.cars && racesCars.filter(racesCar => racesCar.race_id === race.id) // filter to get only cars related to the current race\n  .map(racesCar => {\n    console.log(racesCar);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"imgdiv\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: show ? \"show fa-solid fa-xmark fa-xl\" : \"hide\",\n        onClick: () => {\n          handleDeleteCar(racesCar.id); // pass the ID of the racecardimage as parameter\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `/${racesCar.car.id}/details`,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"car-race-img\",\n          src: racesCar.car.image,\n          alt: \"car-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }, this)]\n    }, racesCar.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 11\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: carImages\n  }, void 0, false);\n}\n\n_s(CarRaceImage, \"mlNlxNp3XNvQnf32tYsIjnLUFH4=\");\n\n_c = CarRaceImage;\nexport default CarRaceImage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CarRaceImage\");","map":{"version":3,"names":["React","useState","useEffect","Link","CarRaceImage","race","setRace","handleDeleteCar","show","racesCars","setRacesCars","fetch","id","then","resp","json","data","carImages","cars","filter","racesCar","race_id","map","console","log","car","image"],"sources":["/Users/dudabrasilc/Development/code/phase-5/pre-project/client/src/components/CarRaceImage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\n\n\nfunction CarRaceImage({ race, setRace, handleDeleteCar, show }) {\n  const [racesCars, setRacesCars] = useState([]);\n\n\n  useEffect(() => {\n    fetch(`/race/${race.id}`)\n      .then((resp) => resp.json())\n      .then((data) => {\n        setRace(data);\n      });\n  }, []);\n\n  useEffect(() => {\n    fetch(`/races_cars`)\n      .then((resp) => resp.json())\n      .then((data) => {\n        setRacesCars(data);\n      });\n  }, [handleDeleteCar]);\n\n  const carImages =\n    race.cars &&\n    racesCars\n      .filter((racesCar) => racesCar.race_id === race.id) // filter to get only cars related to the current race\n      .map((racesCar) => {\n  console.log(racesCar)\n        return (\n          <div className=\"imgdiv\" key={racesCar.id}>\n            <i\n              className={show ? \"show fa-solid fa-xmark fa-xl\" : \"hide\"}\n              onClick={() => {\n                handleDeleteCar(racesCar.id) // pass the ID of the racecardimage as parameter\n              }}\n            ></i>\n            <Link to={`/${racesCar.car.id}/details`}>\n              <img\n                className=\"car-race-img\"\n                src={racesCar.car.image}\n                alt=\"car-image\"\n              />\n            </Link>\n          </div>\n        );\n      });\n\n  return <>{carImages}</>;\n}\n\n\nexport default CarRaceImage;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,kBAArB;;;;AAGA,SAASC,YAAT,OAAgE;EAAA;;EAAA,IAA1C;IAAEC,IAAF;IAAQC,OAAR;IAAiBC,eAAjB;IAAkCC;EAAlC,CAA0C;EAC9D,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BT,QAAQ,CAAC,EAAD,CAA1C;EAGAC,SAAS,CAAC,MAAM;IACdS,KAAK,CAAE,SAAQN,IAAI,CAACO,EAAG,EAAlB,CAAL,CACGC,IADH,CACSC,IAAD,IAAUA,IAAI,CAACC,IAAL,EADlB,EAEGF,IAFH,CAESG,IAAD,IAAU;MACdV,OAAO,CAACU,IAAD,CAAP;IACD,CAJH;EAKD,CANQ,EAMN,EANM,CAAT;EAQAd,SAAS,CAAC,MAAM;IACdS,KAAK,CAAE,aAAF,CAAL,CACGE,IADH,CACSC,IAAD,IAAUA,IAAI,CAACC,IAAL,EADlB,EAEGF,IAFH,CAESG,IAAD,IAAU;MACdN,YAAY,CAACM,IAAD,CAAZ;IACD,CAJH;EAKD,CANQ,EAMN,CAACT,eAAD,CANM,CAAT;EAQA,MAAMU,SAAS,GACbZ,IAAI,CAACa,IAAL,IACAT,SAAS,CACNU,MADH,CACWC,QAAD,IAAcA,QAAQ,CAACC,OAAT,KAAqBhB,IAAI,CAACO,EADlD,EACsD;EADtD,CAEGU,GAFH,CAEQF,QAAD,IAAc;IACvBG,OAAO,CAACC,GAAR,CAAYJ,QAAZ;IACM,oBACE;MAAK,SAAS,EAAC,QAAf;MAAA,wBACE;QACE,SAAS,EAAEZ,IAAI,GAAG,8BAAH,GAAoC,MADrD;QAEE,OAAO,EAAE,MAAM;UACbD,eAAe,CAACa,QAAQ,CAACR,EAAV,CAAf,CADa,CACgB;QAC9B;MAJH;QAAA;QAAA;QAAA;MAAA,QADF,eAOE,QAAC,IAAD;QAAM,EAAE,EAAG,IAAGQ,QAAQ,CAACK,GAAT,CAAab,EAAG,UAA9B;QAAA,uBACE;UACE,SAAS,EAAC,cADZ;UAEE,GAAG,EAAEQ,QAAQ,CAACK,GAAT,CAAaC,KAFpB;UAGE,GAAG,EAAC;QAHN;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QAPF;IAAA,GAA6BN,QAAQ,CAACR,EAAtC;MAAA;MAAA;MAAA;IAAA,QADF;EAiBD,CArBH,CAFF;EAyBA,oBAAO;IAAA,UAAGK;EAAH,iBAAP;AACD;;GA9CQb,Y;;KAAAA,Y;AAiDT,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}